{% extends 'base.html' %}
{% block title %}ReadPCB App{% endblock %}
{% block content %}
<h1 class="mb-4">ReadPCB Application</h1>
<form action="{{ url_for('user.submit_task', task_type='readpcb') }}" method="post" class="mt-3" enctype="multipart/form-data">
  <div class="mb-3">
    <label class="form-label">BRD File</label>
    <input type="file" name="brd" class="form-control" required>
    <label class="form-label mt-2">AEDT Version</label>
    <select name="edbversion" id="edbversion" class="form-select">
      <option value="2024.1">2024.1</option>
      <option value="2024.2">2024.2</option>
      <option value="2025.1" selected>2025.1</option>
      <option value="2025.2">2025.2</option>
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
<script>
const sel = document.getElementById('edbversion');
const key = 'readpcb-edbversion';
const saved = localStorage.getItem(key);
if (saved) {
  sel.value = saved;
}
sel.addEventListener('change', () => {
  localStorage.setItem(key, sel.value);
});
</script>
{% endblock %}
